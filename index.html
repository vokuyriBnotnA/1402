<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>С Днем святого Валентина</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Mulish:wght@400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg-start: #ffb3b1;
      --bg-end: #ffe6d9;
      --card: rgba(255, 255, 255, 0.75);
      --text: #402b2b;
      --accent: #e14b68;
      --accent-2: #f26d85;
      --shadow: 0 20px 60px rgba(0, 0, 0, 0.12);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      font-family: 'Mulish', system-ui, -apple-system, sans-serif;
      color: var(--text);
      background: linear-gradient(160deg, var(--bg-start), var(--bg-end));
      overflow: hidden;
    }
    .noise {
      position: fixed;
      inset: 0;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.05"/></svg>');
      pointer-events: none;
      mix-blend-mode: soft-light;
      opacity: 0.4;
    }
    .scene {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 22px;
      min-height: 100vh;
      padding: 32px 18px 48px;
      text-align: center;
    }
    h1 {
      font-family: 'Great Vibes', 'Mulish', cursive;
      font-size: clamp(40px, 6vw, 64px);
      margin: 0;
      color: var(--accent);
      text-shadow: 0 10px 30px rgba(225, 75, 104, 0.35);
    }
    .sub {
      font-size: 18px;
      max-width: 520px;
      margin: 0 auto;
      line-height: 1.5;
      background: var(--card);
      padding: 14px 20px;
      border-radius: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
    }
    .heart-button {
      width: 160px;
      height: 160px;
      border-radius: 50%;
      border: none;
      background: radial-gradient(circle at 30% 30%, #ff8fa3, #e14b68 60%, #c53250);
      color: #fff;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      position: relative;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
      overflow: hidden;
    }
    .heart-button:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 24px 50px rgba(0, 0, 0, 0.28);
    }
    .heart-button:active {
      transform: translateY(0) scale(0.98);
    }
    .heart-button::before,
    .heart-button::after {
      content: '';
      position: absolute;
      inset: 8px;
      border-radius: 50%;
      background: radial-gradient(circle at 70% 30%, rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0));
      opacity: 0.35;
      animation: pulse 2s infinite ease-in-out;
    }
    .heart-button::after { animation-delay: 0.6s; }
    @keyframes pulse {
      0% { transform: scale(0.95); opacity: 0.32; }
      50% { transform: scale(1.02); opacity: 0.45; }
      100% { transform: scale(0.95); opacity: 0.32; }
    }
    .label {
      position: relative;
      z-index: 2;
    }
    .message {
      min-height: 68px;
      font-size: 20px;
      font-weight: 600;
      padding: 16px 20px;
      background: var(--card);
      border-radius: 16px;
      width: min(90vw, 520px);
      box-shadow: var(--shadow);
      backdrop-filter: blur(6px);
      transition: opacity 0.25s ease;
    }
    .meta {
      display: flex;
      gap: 10px;
      align-items: center;
      justify-content: center;
      font-size: 15px;
      color: #5c3a3a;
      background: rgba(255, 255, 255, 0.6);
      padding: 10px 14px;
      border-radius: 14px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(6px);
    }
    .days {
      font-weight: 700;
      color: var(--accent);
    }
    .hearts {
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }
    .floating-heart {
      position: absolute;
      width: 18px;
      height: 18px;
      background: #ff8fa3;
      transform: rotate(45deg);
      opacity: 0.55;
      animation: floatUp linear infinite;
    }
    .floating-heart::before,
    .floating-heart::after {
      content: '';
      position: absolute;
      width: 18px;
      height: 18px;
      background: #ff8fa3;
      border-radius: 50%;
    }
    .floating-heart::before { top: -9px; left: 0; }
    .floating-heart::after { left: -9px; top: 0; }
    @keyframes floatUp {
      0% { transform: translateY(0) scale(1) rotate(45deg); opacity: 0; }
      10% { opacity: 0.5; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-120vh) scale(1.15) rotate(45deg); opacity: 0; }
    }
    .floating-photo {
      position: absolute;
      width: 90px;
      height: 90px;
      object-fit: contain;
      animation: floatUpPhoto linear infinite;
      opacity: 0.9;
      filter: saturate(1.05) contrast(1.02);
    }
    @keyframes floatUpPhoto {
      0% { transform: translateY(0) scale(1) rotate(var(--tilt, 0deg)); opacity: 0; }
      10% { opacity: 0.75; }
      90% { opacity: 0.9; }
      100% { transform: translateY(-120vh) scale(1.05) rotate(var(--tilt, 0deg)); opacity: 0; }
    }
    @media (max-width: 540px) {
      .heart-button { width: 140px; height: 140px; }
      .message { font-size: 18px; }
    }
  </style>
</head>
<body>
  <div class="noise" aria-hidden="true"></div>
  <div class="hearts" aria-hidden="true"></div>
  <div class="scene">
    <h1>С Днем святого Валентина</h1>
    <div class="sub">Нажми на сердечко, чтобы открыть случайную причину, почему ты лучшая. Люблю тебя!</div>
    <button class="heart-button" id="heartBtn">
      <span class="label">Жми</span>
    </button>
    <div class="message" id="message"></div>
    <div class="meta">Вместе уже <span class="days" id="daysTogether">0</span> дней ❤️</div>
  </div>
  <script>
    // Set the date you met here (YYYY-MM-DD)
    const startDate = new Date('2023-08-15');

    const reasons = [
      'Ты делаешь каждый мой день теплее',
      'Твой смех — мой любимый звук',
      'Ты самая заботливая и смелая',
      'Мне нравится, как ты вдохновляешь меня расти',
      'Ты умеешь превращать обычное в особенное',
      'С тобой всё становится легче и веселее',
      'Ты — мой дом, куда хочется возвращаться',
      'Твои идеи и мечты заряжают меня',
      'Ты поддерживаешь меня, даже когда я сам в себе сомневаюсь',
      'С тобой даже тишина звучит как музыка',
      'Ты делаешь меня добрее',
      'Твои объятия лечат лучше любых слов',
      'Ты — моя любимая случайность и мой лучший выбор'
    ];

      const photoSources = [
      'photos/Sujet.png',
      'photos/Sujet 2.png',
      'photos/Sujet 3.png',
      'photos/Sujet 4.png',
      'photos/Sujet 5.png',
      'photos/Sujet 6.png',
      'photos/Sujet 7.png',
      'photos/Sujet 8.png',
      'photos/Sujet 9.png',
      'photos/Sujet 10.png',
      'photos/Sujet 11.png',
      'photos/Sujet 12.png',
      'photos/Sujet 13.png',
      'photos/Sujet 14.png',
      'photos/Sujet 15.png',
      'photos/Sujet 16.png'
    ];

    const messageEl = document.getElementById('message');
    const heartBtn = document.getElementById('heartBtn');
    const daysEl = document.getElementById('daysTogether');
    const heartsLayer = document.querySelector('.hearts');

    function pickReason() {
      const next = reasons[Math.floor(Math.random() * reasons.length)];
      messageEl.style.opacity = 0;
      setTimeout(() => {
        messageEl.textContent = next;
        messageEl.style.opacity = 1;
      }, 180);
    }

    function updateDaysTogether() {
      const now = new Date();
      const diff = now - startDate;
      const days = Math.max(0, Math.floor(diff / (1000 * 60 * 60 * 24)));
      daysEl.textContent = days.toString();
    }

    function pickPhotos(count = 8) {
      const shuffled = [...photoSources];
      for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
      }
      return shuffled.slice(0, Math.min(count, shuffled.length));
    }

    function spawnFloatingLayer(heartCount = 28) {
      const width = window.innerWidth;
      const height = window.innerHeight;
      heartsLayer.innerHTML = '';

      for (let i = 0; i < heartCount; i++) {
        const h = document.createElement('div');
        h.className = 'floating-heart';
        const size = 12 + Math.random() * 14;
        h.style.width = `${size}px`;
        h.style.height = `${size}px`;
        h.style.left = `${Math.random() * width}px`;
        h.style.bottom = `${-40 - Math.random() * 120}px`;
        const dur = 12 + Math.random() * 12;
        h.style.animationDuration = `${dur}s`;
        h.style.animationDelay = `${Math.random() * 6}s`;
        h.style.opacity = (0.3 + Math.random() * 0.4).toFixed(2);
        heartsLayer.appendChild(h);
      }

      const photos = pickPhotos();
      photos.forEach((src) => {
        const img = document.createElement('img');
        img.className = 'floating-photo';
        img.src = src;
        const size = 78 + Math.random() * 82;
        img.style.width = `${size}px`;
        img.style.height = `${size}px`;
        img.style.left = `${Math.random() * width}px`;
        img.style.bottom = `${-120 - Math.random() * 200}px`;
        const dur = 14 + Math.random() * 12;
        img.style.animationDuration = `${dur}s`;
        img.style.animationDelay = `${Math.random() * 6}s`;
        img.style.opacity = (0.65 + Math.random() * 0.25).toFixed(2);
        img.style.setProperty('--tilt', `${-10 + Math.random() * 20}deg`);
        heartsLayer.appendChild(img);
      });
    }

    heartBtn.addEventListener('click', pickReason);
    window.addEventListener('resize', () => spawnFloatingLayer());

    updateDaysTogether();
    spawnFloatingLayer();
  </script>
</body>
</html>
